{"version":3,"sources":["Product.js","Cart.js","App.js","reportWebVitals.js","index.js"],"names":["Product","props","image","id","onAdd","name","price","className","style","width","height","src","alt","onClick","Cart","orders","onRemove","total","reduce","sum","o","products","productId","map","c","border","background","cursor","orderId","borderRadius","1","2","3","4","5","6","7","8","9","10","App","stateKey","d","useState","state","setState","isNewSession","useRef","useEffect","current","currentState","localStorage","getItem","JSON","parse","setItem","stringify","error","onReceieveMessage","e","key","newValue","window","addEventListener","removeEventListener","useCrossTabState","setOrders","console","log","handleAdd","concat","uuid","Object","keys","_orders","filter","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.2547c5d5.chunk.js","sourcesContent":["import React from 'react'\n\nfunction Product(props){\n  const {image,id,onAdd,name,price} = props\n  return (<div key={id} className=\"product\">\n      <h2>{name}</h2>\n    <img style={{width:'200xp',height:'200px'}} src={image} alt={name}/>\n    <span>{price}</span>\n    <button onClick={()=>onAdd(id)}>Add to cart</button>\n  </div>)\n}\n\nexport default Product","import React from 'react'\nimport {products} from './App'\n\nfunction Cart(props){\n  const {orders,onRemove} = props\n  const total = orders?.reduce((sum,o)=>{\n    return sum = sum + +products[o.productId].price\n  },0)\n  return (\n          <div className=\"cart\">\n          <p>Total:{total}</p>\n        <h2>Cart</h2>\n        {\n          orders?.map((c)=>(\n          <div className=\"order\" key={c.orderId}>\n                   <button style={{border:'none',background:'none',cursor:'pointer'}} onClick={()=>onRemove(c.orderId)}>X</button>\n            <img style={{width:'50xp',height:'50px',borderRadius:'100%'}} src={products[c.productId].image} alt={products[c.productId].image}/>\n                 <h3>{products[c.productId].name}</h3>\n        </div>\n          ))\n        }\n      </div>\n  )\n}\n\nexport default Cart;","import React,{useState,useEffect,useRef} from 'react'\nimport Product from './Product'\nimport './App.css';\nimport {v4 as uuid} from 'uuid'\nimport Cart from './Cart'\n\nexport const products = {\n  1:{\n    id:1,\n    name:'SpongeBob',\n    image:'https://upload.wikimedia.org/wikipedia/en/thumb/3/3b/SpongeBob_SquarePants_character.svg/1200px-SpongeBob_SquarePants_character.svg.png',\n    price: '15'\n  },\n  2:{\n    id:2,\n    name:'shanda sheep',\n    image:'https://d1oklq6066osfz.cloudfront.net/character_shaun_0.png',\n    price: '25'\n  },\n    3:{\n    id:3,\n    name:'Tom and Jerry',\n    image:'https://pngimg.com/uploads/tom_and_jerry/tom_and_jerry_PNG34.png',\n    price: '15'\n  },\n      4:{\n    id:4,\n    name:'Shrek',\n    image:'https://upload.wikimedia.org/wikipedia/en/4/4d/Shrek_%28character%29.png',\n    price: '15'\n  },\n        5:{\n    id:5,\n    name:'Lisa Simpson',\n    image:'https://upload.wikimedia.org/wikipedia/en/e/ec/Lisa_Simpson.png',\n    price: '15'\n  },\n          6:{\n    id:6,\n    name:'Winnie the Pooh',\n    image:'https://static.wikia.nocookie.net/heroes-and-villians/images/8/83/Winnie_the_Pooh.png/revision/latest/top-crop/width/360/height/450?cb=20191229203055',\n    price: '25'\n  },\n            7:{\n    id:7,\n    name:'Arthur',\n    image:'https://upload.wikimedia.org/wikipedia/en/thumb/6/65/Arthur_Read.svg/1200px-Arthur_Read.svg.png',\n    price: '35'\n  },\n              8:{\n    id:8,\n    name:'Popeye',\n    image:'https://upload.wikimedia.org/wikipedia/en/0/00/Popeye_the_Sailor.png',\n    price: '30'\n  },\n                9:{\n    id:9,\n    name:'Bugs Bunny',\n    image:'https://upload.wikimedia.org/wikipedia/en/thumb/1/17/Bugs_Bunny.svg/1200px-Bugs_Bunny.svg.png',\n    price: '20'\n  },\n                  10:{\n    id:10,\n    name:'Daffy Duck',\n    image:'https://upload.wikimedia.org/wikipedia/en/thumb/f/f4/Daffy_Duck.svg/1200px-Daffy_Duck.svg.png',\n    price: '20'\n  },\n}\nfunction App() {\n  // const [orders,setOrders] = useState([])\n  const [orders,setOrders] = useCrossTabState('orders',[])\n  console.log(orders)\n  const handleAdd = (id) => {\n    setOrders((orders)=>orders.concat({orderId:uuid(),productId:id}))\n  }\n  const handleRemove = (orderId) => {\n    const _orders= orders.filter((o)=>o.orderId!==orderId)\n    setOrders(_orders)\n  }\n  // use local storage\n  // useEffect(() => {\n  //     localStorage.setItem(\"orders\",JSON.stringify(orders))\n  // }, [orders])\n\n  // useEffect(()=>{\n  //   window.addEventListener(\"storage\",(e) => {  \n  //   const {key,newValue} = e\n  //   if(key==='orders'){\n  //     setOrders(JSON.parse(newValue))\n  //   }\n\n  //   });\n  // },[])\n\n  return (\n    <div className=\"App\">\n    <div className=\"products\">\n        {Object.keys(products).map((id)=>(\n      <Product {...products[id]} onAdd={handleAdd} key={id}/>\n    ))}\n    </div>\n          <Cart orders={orders} onRemove={handleRemove}/>\n    </div>\n  );\n}\n\nfunction useCrossTabState(stateKey,d){\n  const [state,setState] = useState(d)\n  const isNewSession = useRef(true)\n\n\n  useEffect(()=>{\n    if(isNewSession.current){\n      const currentState = localStorage.getItem(stateKey)\n      if(currentState){\n        setState(JSON.parse(currentState))\n      }else{\n         setState(d)\n      }\n      isNewSession.current=false\n      return\n    }\n    try{\n      localStorage.setItem(stateKey,JSON.stringify(state))\n    }catch(error){}\n  },[state,stateKey,d])\n\n  useEffect(()=>{\n    const onReceieveMessage = (e) => {\n     const {key,newValue} = e\n    if(key===stateKey){\n       setState(JSON.parse(newValue))\n    } \n    }\n    window.addEventListener('storage',onReceieveMessage)\n    return () => window.removeEventListener('storage',onReceieveMessage)\n  },[stateKey,setState])\n\n  return [state,setState]\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}